{% load static %}
{% load static tailwind_tags %}
{% tailwind_preload_css %}
{% tailwind_css %}
<!DOCTYPE html>
<html lang="en">
<head> 
    <meta charset="UTF-8">
    <script src="https://kit.fontawesome.com/1d98ebd11c.js" crossorigin="anonymous"></script>
    <title>Edicion</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body class="flex h-screen bg-gray-200 ">
    <div class="fixed top-0 left-0  h-full hidden lg:block z-50" id="sidebar">
        {% include 'dash_bars/dash_sidebar.html' %}
    </div>
   
<!--Habia un </head> extra aqui, lo dejo anotado en caso de que rompa algo-->

    {% block content %}    
    <div class="flex flex-col w-full
    lg:pl-[20rem]">
        <div class="min-h-28 fixed top-0 w-full z-30 self-center
        sm:w-[90%]
        lg:w-[60%]"
        id="navbar">
            {% include 'dash_bars/dash_navbar.html' %}
        </div>
        <div class="flex items-center flex-col border mx-4 mt-24 space-y-6 pb-10
        lg:ml-9
        xl:mr-6">
        <!--Poner cosas aquí dentro-->

        <!-- Formulario de subida de archivos y la validacion del formato -->
        <form id="uploadForm" class="p-6 bg-white rounded shadow-md w-full max-w-md">
            <h1 class="text-lg font-bold mb-4">Subir Archivo Excel</h1>
            <input type="file" id="fileInput" class="block w-full mb-4 text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100">
            <button type="submit" class="w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600">Subir</button>
        </form>

        <!-- Tabla para mostrar los datos del Excel -->
        <div class="overflow-auto w-full">
            <table id="excelTable" class="table-auto w-full bg-white border-collapse border border-gray-200 mt-6">
                <thead class="bg-gray-50">
                    <tr id="tableHeader"></tr>
                </thead>
                <tbody id="tableBody"></tbody>
            </table>
        </div>

        <!-- Botones para añadir y eliminar filas y columnas -->
        <div class="flex space-x-4 mt-4">
            <button id="addRowButton" class="bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600">Añadir Fila</button>
            <button id="addColumnButton" class="bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600">Añadir Columna</button>
            <button id="removeRowButton" class="bg-red-500 text-white py-2 px-4 rounded hover:bg-red-600">Eliminar Fila</button>
            <button id="removeColumnButton" class="bg-red-500 text-white py-2 px-4 rounded hover:bg-red-600">Eliminar Columna</button>
        </div>

        <!--Boton de descarga, deberia solicitar un nuevo nombre, de no recibir uno ira por defecto-->
        <div>
        <button id="downloadButton" class="w-full bg-green-500 text-white py-2 rounded hover:bg-green-600 mt-4 hidden">Descargar archivo</button>
        </div>
    </div>
</div>
    
<!-- Scripts -->
    <script src="{% static 'js/carga_excel.js' %}"></script>
    <script src="{% static 'js/descarga_excel.js' %}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/exceljs/4.3.0/exceljs.min.js"></script>
</body>
{% endblock content %}
</html>